#include <stdio.h>
#include <stdlib.h>
#include <string.h>


typedef struct Product {
    long int code;
    char name [20];
    int quantity;
    float price;
}prd;

int main() {

    //variables
    int op ;
    int counter = 0;
    prd p[30];

    while(1){

        //interface graphique;
        printf("\t\t\t\t\t\t========Pharmacy========\t\t\t\t\t\t\n");
        printf("\t\t\t\t\t     which operation do you desire?\t\t\t\t\t\n");
        printf("\n\t\t\t1)Add a product.        2)Add multiple products.        3)Show product list.\n");
        printf("\n\t\t\t4)Buy a product.        5)Search for a product.         6)Display stock status.\n");
        printf("\n\t\t\t7)Add to stock.         8)Delete a product.             9)Selling statistics.\n");
        printf("\n\t\t\t\t\t=======================================\n");
        printf("\t\t\t\t\ttype the number of the operation : ");
        scanf("%d", &op);

        //Add a product
        if ( op == 1) {
            printf("> Product code : ");
            scanf("%ld", &p[counter].code);
            printf("> Product name : ");
            scanf("%s", &p[counter].name);
            printf("> Product quantity : ");
            scanf("%d", &p[counter].quantity);
            printf("> Product price : ");
            scanf("%f", &p[counter].price);
            printf("\n\t\t\t\tCode \t\tName \t\tQuantity \tPrice\n");
            printf("\n\t\t\t\t%ld \t\t%s \t\t%d \t\t%f\n", p[counter].code, p[counter].name, p[counter].quantity, p[counter].price);
            counter++;
        }
        //Add multiple products
        else if ( op == 2) {
            int P_Num, i;
            printf("how many products do you wanna add ? : ");
            scanf("%d", &P_Num);
            for( i = counter; i < P_Num + counter; i++){
                printf("> Product %d code : ",i+1);
                scanf("%ld", &p[i].code);
                printf("> Product %d name : ",i+1);
                scanf("%s", &p[i].name);
                printf("> Product %d quantity : ",i+1);
                scanf("%d", &p[i].quantity);
                printf("> Product %d price : ",i+1);
                scanf("%f", &p[i].price);

            }
            counter += P_Num;
        }

        //Show product list
        else if ( op == 3) {
            int Mode,i,k;
            char temp;
            printf("how do you wanna sort your list ?\n");
            printf("1) By name              2) By price ");
            scanf("%d",Mode);
            switch(Mode) {
            case 1 :
                for ( i = 0; i < counter; i++){
                    for (k = i + 1; k < counter-1; k++){
                        if (strcmp(p[k].name, p[k+1].name) == 1){
                            temp = p[k].name;
                            p[k].name = p[k+1].name;
                            p[k+1].name= temp ;
                        }
                    }
                }
                for(i=0;i<counter;i++){
                  printf("%s\t",p[i].name);
                }
            }


            printf("\n\t\t\t\tCode \t\tName \t\tQuantity \tPrice\n");
            for( int j = 0; j< counter; j++){
            printf("\n\t\t\t\t%ld \t\t%s \t\t%d \t\t%.2f\n", p[j].code, p[j].name, p[j].quantity, p[j].price);
            }
        }
        //Buy a product
        else if ( op == 4) {


        }
        //Search for a product
        else if ( op == 5) {
            printf("5");
        }
        //Stock
        else if ( op == 6) {
            printf("6");
        }
        //Add to stock
        else if ( op == 7) {
            printf("7");
        }
        //Delete a product
        else if ( op == 8) {
            printf("8");
        }
        //selling statistics
        else if ( op == 9) {
            printf("9");
        }
        //no option from the above
        else {
            printf("10");
        }
        }
return 0;
}
